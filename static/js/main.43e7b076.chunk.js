(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{15:function(e,t,r){e.exports={alphabetMenu:"employees_alphabetMenu__1z3TE",employees:"employees_employees__2YbDS"}},21:function(e,t,r){e.exports={user:"user_user__3c6Qu"}},22:function(e,t,r){e.exports={employeesBirthday:"employees-birthday_employeesBirthday__38ZNl"}},35:function(e,t,r){},37:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r(0),c=r.n(s),a=r(6),o=r.n(a),i=r(4),l=(r(35),r(3)),u=r(18),d=r(19),h=r(2),j=r(23),b=r(14),p=r.n(b),m=r(20),f="LOAD_USERS_REQUEST",O="LOAD_USERS_SUCCESS",y="LOAD_USERS_FAILURE",x="USER_TRIGGER",v=function(){var e=localStorage.getItem("selectedUserIds");try{e=e?JSON.parse(e):[]}catch(t){e=[]}return{error:null,loading:!1,byId:{},allIds:[],selectedIds:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(h.a)(Object(h.a)({},e),{},{loading:!0,error:null});case O:var r=t.payload.reduce((function(e,t){return e[t.id]=t,e}),{});return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:null,byId:r,allIds:Object.keys(r)});case y:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,error:t.error});case x:return Object(h.a)(Object(h.a)({},e),{},{selectedIds:t.payload});default:return e}},_=Object(l.combineReducers)({users:g}),N=Object(l.createStore)(_,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(d.a))),I=r(15),U="abcdefghijklmnopqrstuvwxyz".split(""),S=["January","February","March","April","May","June","July","August","September","October","November","December"],k=r(8),E=r(21),C=function(e){var t=e.user,r=e.onChange,s=t.lastName,c=t.firstName,a=t.id,o=t.checked;return Object(n.jsxs)("div",{className:E.user,children:[Object(n.jsxs)("span",{children:[s," ",c]}),Object(n.jsx)("input",{type:"checkbox",onChange:function(e){return r(a,e)},checked:o})]})},T=function(e){var t=e.letter,r=e.users,s=e.onUserCheck,c=r.slice().sort((function(e,t){return e.lastName.localeCompare(t.lastName)})).map((function(e){return Object(n.jsx)(C,{user:e,onChange:s},e.id)}));return Object(n.jsxs)("div",{className:k.letterSection,children:[Object(n.jsx)("div",{className:k.header,children:Object(n.jsx)("div",{className:k.letter,children:t})}),c.length?c:"\u2014"]})},w={loadUsers:function(){return function(){var e=Object(m.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),e.next=3,fetch("".concat("https://yalantis-react-school-api.yalantis.com/api/task0","/users"));case 3:if(r=e.sent,e.prev=4,r.ok){e.next=7;break}throw new Error("Bad request");case 7:return e.next=9,r.json();case 9:n=e.sent,t({type:O,payload:n}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),t({type:y,error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()},triggerUser:function(e,t){return function(r,n){var s=n().users,c=t?[].concat(Object(j.a)(s.selectedIds),[e]):s.selectedIds.filter((function(t){return t!==e}));localStorage.setItem("selectedUserIds",JSON.stringify(c)),r({type:x,payload:c})}}},D=Object(i.b)((function(e){var t=e.users,r=t.byId,n=t.allIds,s=t.loading,c=t.error,a=t.selectedIds;return{users:n.map((function(e){return r[e]})),isLoading:s,error:c,selectedUserIds:a}}),w)((function(e){var t=e.users,r=e.loadUsers,c=e.triggerUser,a=e.isLoading,o=e.selectedUserIds,i=e.error;Object(s.useEffect)((function(){r()}),[r]);var l=function(e){return t.filter((function(t){return t.lastName.toLowerCase().startsWith(e)})).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{checked:o.includes(e.id)})}))},u=function(e,t){return c(e,t.target.checked)};return Object(n.jsxs)("div",{className:I.employees,children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("span",{className:"headerText",children:"Employees"})}),Object(n.jsx)("div",{className:I.alphabetMenu,children:i?"Error: ".concat(i.message):a?"Loading...":U.map((function(e){return Object(n.jsx)(T,{letter:e,users:l(e),onUserCheck:u},e)}))})]})})),M=r(16),R=function(e){var t=new Date(e);return"".concat(t.getUTCDate()," ").concat(S[t.getUTCMonth()],", ").concat(t.getUTCFullYear()," year")},J=r(9),L=function(e){var t=e.monthName,r=e.users.slice().sort((function(e,t){return Date.parse(e.dob)-Date.parse(t.dob)})).map((function(e){var t=e.id,r=e.lastName,s=e.firstName,c=e.dob;return Object(n.jsxs)("li",{children:[Object(n.jsxs)("span",{className:J.name,children:[r," ",s]})," ",R(c)]},t)}));return Object(n.jsxs)("div",{className:J.monthGroup,children:[Object(n.jsx)("div",{className:J.header,children:t}),Object(n.jsx)("ul",{children:r})]})},A=r(22),B=Object(i.b)((function(e){var t=e.users,r=t.byId;return{selectedUsers:t.selectedIds.map((function(e){return r[e]})).filter((function(e){return!!e}))}}))((function(e){var t,r=e.selectedUsers,s=(t=r,S.reduce((function(e,r,n){var s=t.filter((function(e){return new Date(e.dob).getUTCMonth()===n}));return e[r]=s,e}),{})),c=Object.entries(s).filter((function(e){return Object(M.a)(e,2)[1].length})).map((function(e){var t=Object(M.a)(e,2),r=t[0],s=t[1];return Object(n.jsx)(L,{monthName:r,users:s},r)}));return Object(n.jsxs)("div",{className:A.employeesBirthday,children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("span",{className:"headerText",children:"Employees birthday"})}),r.length?c:"No selected employees"]})}));o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(i.a,{store:N,children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(D,{}),Object(n.jsx)(B,{})]})})}),document.getElementById("root"))},8:function(e,t,r){e.exports={letterSection:"letter-section_letterSection__3iNgM",header:"letter-section_header__3IqeW",letter:"letter-section_letter__2edjq"}},9:function(e,t,r){e.exports={header:"month-group_header__2Jzm4",monthGroup:"month-group_monthGroup__ysujT",name:"month-group_name__3TTmr"}}},[[37,1,2]]]);
//# sourceMappingURL=main.43e7b076.chunk.js.map